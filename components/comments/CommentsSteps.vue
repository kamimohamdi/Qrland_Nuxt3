<template>
  <div class="w-[80%] flex my-2 flex-col">
    <Mark title="Ø¨Ø§Ø²Ø®ÙˆØ±Ø¯ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ù…Ø§ Ø§Ù‡Ù…ÛŒØª Ø¯Ø§Ø±Ø¯" />
    <v-stepper
      v-model="step"
      :style="[
        'box-shadow: none',
        `backgroundd:${them.defaultThem.componentsColor}`,
      ]"
      :items="items"
      dir="rtl"
    >
      <template #prev="{ props }">
        <v-btn color="red" v-bind="props">Ù‚Ø¨Ù„ÛŒ</v-btn>
      </template>
      <template #next="{ props }">
        <v-btn color="primary" v-bind="props" v-if="step < 5">Ø¨Ø¹Ø¯ÛŒ</v-btn>
      </template>
      <template v-if="step == 5" #actions>
        <v-btn
          variant="tonal"
          :disabled="feedBack[4].comment.length < 4"
          color="primary"
          class="outlined"
          >Ø«Ø¨Øª</v-btn
        >
      </template>

      <template v-slot:item.1>
        <h2 class="text-sm">Ø¢ÛŒØ§ Ø§Ø² Ú©ÛŒÙÛŒØª Ú©Ø§Ù„Ø§Ù‡Ø§ Ø±Ø¶Ø§ÛŒØª Ø¯Ø§Ø´ØªÛŒØ¯ØŸ</h2>
        <div class="my-3" dir="rtl">
          <v-textarea
            v-model="feedBack[0].comment"
            row-height="25"
            rows="3"
            variant="outlined"
            label="ØªÙˆØ¶ÛŒØ­Ø§Øª (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)"
            auto-grow
            dir="rtl"
            class="custom-textarea"
            :rules="[(v) => v.length > 3 || 'Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ Û³ Ú©Ø§Ø±Ú©ØªØ± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯']"
          />
        </div>
        <div class="h-14 w-full flex justify-center align-center">
          <v-btn
            class="text-h4"
            :style="[
              'box-shadow: none',
              'with: 50px',
              ' height: 50px',
              `filter:${feedBack[0].feed == 5 ? 'none' : 'grayscale(100%)'}`,
            ]"
            @click="feedBack[0].feed = 5"
            >ğŸ˜</v-btn
          >
          <v-btn
            class="text-h4"
            :style="[
              'box-shadow: none',
              'with: 50px',
              ' height: 50px',
              `filter:${feedBack[0].feed == 4 ? 'none' : 'grayscale(100%)'}`,
            ]"
            @click="feedBack[0].feed = 4"
            >ğŸ˜Š</v-btn
          >
          <v-btn
            class="text-h4"
            :style="[
              'box-shadow: none',
              'with: 50px',
              'height: 50px',
              `filter:${feedBack[0].feed == 3 ? 'none' : 'grayscale(100%)'}`,
            ]"
            @click="feedBack[0].feed = 3"
            >ğŸ˜</v-btn
          >
          <v-btn
            class="text-h4"
            :style="[
              'box-shadow: none',
              'with: 50px',
              ' height: 50px',
              ' filter: none',
              ,
              `filter:${feedBack[0].feed == 2 ? 'none' : 'grayscale(100%)'}`,
            ]"
            @click="feedBack[0].feed = 2"
            >ğŸ˜•</v-btn
          >
          <v-btn
            class="text-h4"
            :style="[
              'box-shadow: none',
              'with: 50px',
              'height: 50px',
              `filter:${feedBack[0].feed == 1 ? 'none' : 'grayscale(100%)'}`,
            ]"
            @click="feedBack[0].feed = 1"
            >ğŸ˜¥</v-btn
          >
        </div>
      </template>

      <template v-slot:item.2>
        <h2 class="text-sm">Ú©ÛŒÙÛŒØª Ø¨Ø³ØªÙ‡ Ø¨Ù†Ø¯ÛŒ Ø±Ø§ Ú†Ú¯ÙˆÙ†Ù‡ Ø§Ø±Ø²ÛŒØ§Ø¨ÛŒ Ù…ÛŒ Ú©Ù†ÛŒØ¯ØŸ</h2>
        <div class="h-16 w-full flex justify-center align-center">
          <v-btn
            class="text-h4"
            :style="[
              'box-shadow: none',
              'with: 50px',
              ' height: 50px',
              `filter:${feedBack[1].feed == 5 ? 'none' : 'grayscale(100%)'}`,
            ]"
            @click="feedBack[1].feed = 5"
            >ğŸ˜</v-btn
          >
          <v-btn
            class="text-h4"
            :style="[
              'box-shadow: none',
              'with: 50px',
              ' height: 50px',
              `filter:${feedBack[1].feed == 4 ? 'none' : 'grayscale(100%)'}`,
            ]"
            @click="feedBack[1].feed = 4"
            >ğŸ˜Š</v-btn
          >
          <v-btn
            class="text-h4"
            :style="[
              'box-shadow: none',
              'with: 50px',
              'height: 50px',
              `filter:${feedBack[1].feed == 3 ? 'none' : 'grayscale(100%)'}`,
            ]"
            @click="feedBack[1].feed = 3"
            >ğŸ˜</v-btn
          >
          <v-btn
            class="text-h4"
            :style="[
              'box-shadow: none',
              'with: 50px',
              ' height: 50px',
              ' filter: none',
              ,
              `filter:${feedBack[1].feed == 2 ? 'none' : 'grayscale(100%)'}`,
            ]"
            @click="feedBack[1].feed = 2"
            >ğŸ˜•</v-btn
          >
          <v-btn
            class="text-h4"
            :style="[
              'box-shadow: none',
              'with: 50px',
              'height: 50px',
              `filter:${feedBack[1].feed == 1 ? 'none' : 'grayscale(100%)'}`,
            ]"
            @click="feedBack[1].feed = 1"
            >ğŸ˜¥</v-btn
          >
        </div>
      </template>

      <template v-slot:item.3>
        <h2 class="text-sm">Ø¢ÛŒØ§ Ø§Ø² ØªÙ†ÙˆØ¹ Ú©Ø§Ù„Ø§Ù‡Ø§ Ø±Ø§Ø¶ÛŒ Ø¨ÙˆØ¯ÛŒØ¯ØŸ</h2>
        <div class="h-16 w-full flex justify-center align-center">
          <v-btn
            class="text-h4"
            :style="[
              'box-shadow: none',
              'with: 50px',
              ' height: 50px',
              `filter:${feedBack[2].feed == 5 ? 'none' : 'grayscale(100%)'}`,
            ]"
            @click="feedBack[2].feed = 5"
            >ğŸ˜</v-btn
          >
          <v-btn
            class="text-h4"
            :style="[
              'box-shadow: none',
              'with: 50px',
              ' height: 50px',
              `filter:${feedBack[2].feed == 4 ? 'none' : 'grayscale(100%)'}`,
            ]"
            @click="feedBack[2].feed = 4"
            >ğŸ˜Š</v-btn
          >
          <v-btn
            class="text-h4"
            :style="[
              'box-shadow: none',
              'with: 50px',
              'height: 50px',
              `filter:${feedBack[2].feed == 3 ? 'none' : 'grayscale(100%)'}`,
            ]"
            @click="feedBack[2].feed = 3"
            >ğŸ˜</v-btn
          >
          <v-btn
            class="text-h4"
            :style="[
              'box-shadow: none',
              'with: 50px',
              ' height: 50px',
              ' filter: none',
              ,
              `filter:${feedBack[2].feed == 2 ? 'none' : 'grayscale(100%)'}`,
            ]"
            @click="feedBack[2].feed = 2"
            >ğŸ˜•</v-btn
          >
          <v-btn
            class="text-h4"
            :style="[
              'box-shadow: none',
              'with: 50px',
              'height: 50px',
              `filter:${feedBack[2].feed == 1 ? 'none' : 'grayscale(100%)'}`,
            ]"
            @click="feedBack[2].feed = 1"
            >ğŸ˜¥</v-btn
          >
        </div>
      </template>
      <template v-slot:item.4>
        <h2 class="text-sm">Ø¢ÛŒØ§ Ø§Ø² ØªØ®ÙÛŒÙØ§Øª Ø§ÛŒÙ† ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ù‡Ù… Ø¨Ù‡Ø±Ù‡ Ù…Ù†Ø¯ Ø´Ø¯Ù‡ Ø§ÛŒØ¯ØŸ</h2>
        <div class="h-16 w-full flex justify-center align-center">
          <v-btn
            class="text-h4"
            :style="[
              'box-shadow: none',
              'with: 50px',
              ' height: 50px',
              `filter:${feedBack[3].feed == 5 ? 'none' : 'grayscale(100%)'}`,
            ]"
            @click="feedBack[3].feed = 5"
            >ğŸ˜</v-btn
          >
          <v-btn
            class="text-h4"
            :style="[
              'box-shadow: none',
              'with: 50px',
              ' height: 50px',
              `filter:${feedBack[3].feed == 4 ? 'none' : 'grayscale(100%)'}`,
            ]"
            @click="feedBack[3].feed = 4"
            >ğŸ˜Š</v-btn
          >
          <v-btn
            class="text-h4"
            :style="[
              'box-shadow: none',
              'with: 50px',
              'height: 50px',
              `filter:${feedBack[3].feed == 3 ? 'none' : 'grayscale(100%)'}`,
            ]"
            @click="feedBack[3].feed = 3"
            >ğŸ˜</v-btn
          >
          <v-btn
            class="text-h4"
            :style="[
              'box-shadow: none',
              'with: 50px',
              ' height: 50px',
              ' filter: none',
              ,
              `filter:${feedBack[3].feed == 2 ? 'none' : 'grayscale(100%)'}`,
            ]"
            @click="feedBack[3].feed = 2"
            >ğŸ˜•</v-btn
          >
          <v-btn
            class="text-h4"
            :style="[
              'box-shadow: none',
              'with: 50px',
              'height: 50px',
              `filter:${feedBack[3].feed == 1 ? 'none' : 'grayscale(100%)'}`,
            ]"
            @click="feedBack[3].feed = 1"
            >ğŸ˜¥</v-btn
          >
        </div>
      </template>
      <template v-slot:item.5>
        <h2 class="text-sm">
          Ø¨Ø±Ø§ÛŒ Ø¨Ù‡Ø¨ÙˆØ¯ ØªØ¬Ø±Ø¨Ù‡ Ø®Ø±ÛŒØ¯ Ø§Ø² Ø§ÛŒÙ† ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ú†Ù‡ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ Ø¯Ø§Ø±ÛŒØ¯ØŸ
        </h2>
        <div class="my-3" dir="rtl">
          <v-textarea
            v-model="feedBack[4].comment"
            row-height="25"
            rows="3"
            variant="outlined"
            label="ØªÙˆØ¶ÛŒØ­Ø§Øª (Ø§Ø¬Ø¨Ø§Ø±ÛŒ)"
            auto-grow
            dir="rtl"
            class="custom-textarea"
            :rules="[(v) => v.length > 3 || 'Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ Û³ Ú©Ø§Ø±Ú©ØªØ± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯']"
          />
        </div>
        <div class="h-16 w-full flex justify-center align-center">
          <v-btn
            class="text-h4"
            :style="[
              'box-shadow: none',
              'with: 50px',
              ' height: 50px',
              `filter:${feedBack[4].feed == 5 ? 'none' : 'grayscale(100%)'}`,
            ]"
            @click="feedBack[4].feed = 5"
            >ğŸ˜</v-btn
          >
          <v-btn
            class="text-h4"
            :style="[
              'box-shadow: none',
              'with: 50px',
              ' height: 50px',
              `filter:${feedBack[4].feed == 4 ? 'none' : 'grayscale(100%)'}`,
            ]"
            @click="feedBack[4].feed = 4"
            >ğŸ˜Š</v-btn
          >
          <v-btn
            class="text-h4"
            :style="[
              'box-shadow: none',
              'with: 50px',
              'height: 50px',
              `filter:${feedBack[4].feed == 3 ? 'none' : 'grayscale(100%)'}`,
            ]"
            @click="feedBack[4].feed = 3"
            >ğŸ˜</v-btn
          >
          <v-btn
            class="text-h4"
            :style="[
              'box-shadow: none',
              'with: 50px',
              ' height: 50px',
              ' filter: none',
              ,
              `filter:${feedBack[4].feed == 2 ? 'none' : 'grayscale(100%)'}`,
            ]"
            @click="feedBack[4].feed = 2"
            >ğŸ˜•</v-btn
          >
          <v-btn
            class="text-h4"
            :style="[
              'box-shadow: none',
              'with: 50px',
              'height: 50px',
              `filter:${feedBack[4].feed == 1 ? 'none' : 'grayscale(100%)'}`,
            ]"
            @click="feedBack[4].feed = 1"
            >ğŸ˜¥</v-btn
          >
        </div>
      </template>
    </v-stepper>
  </div>
</template>
<script setup>
import { useCustomStore } from "~/store/customSettings";
import Mark from "~/components/modules/index/Mark.vue";
const them = useCustomStore();

const shipping = ref(0);
const step = ref(1);
const subtotal = computed(() =>
  products.reduce((acc, product) => acc + product.quantity * product.price, 0)
);
const total = computed(() => subtotal.value + Number(shipping.value ?? 0));

const items = [
  "Ø±Ø¶Ø§ÛŒØªÙ…Ù†Ø¯ÛŒ Ø§Ø² Ú©Ø§Ù„Ø§",
  "Ú©ÛŒÙÛŒØª Ø¨Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ",
  "ØªÙ†ÙˆØ¹ Ú©Ø§Ù„Ø§Ù‡Ø§",
  "ØªØ®ÙÛŒÙØ§Øª ÙØ±ÙˆØ´Ú¯Ø§Ù‡",
  "Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ø§Øª",
];
const feedBack = ref([
  {
    step: 1,
    feed: null,
    comment: "",
  },
  {
    step: 2,
    feed: null,
  },
  {
    step: 3,
    feed: null,
  },
  {
    step: 4,
    feed: null,
  },
  {
    step: 5,
    feed: null,
    comment: "",
  },
]);
</script>

<style scoped>
::v-deep .v-label {
  right: 0 !important;
  left: auto !important;
  text-align: right !important;
}

/* Ø±Ø§Ø³Øªâ€ŒÚ†ÛŒÙ† Ú©Ø±Ø¯Ù† Ù…ØªÙ† Ø¯Ø§Ø®Ù„ ÙÛŒÙ„Ø¯ */
::v-deep .custom-textarea textarea {
  text-align: right !important;
  direction: rtl !important;
}

::v-deep .v-stepper-header {
  display: none !important;
}
</style>
